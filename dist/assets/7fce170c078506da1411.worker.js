!function(n){function t(i){if(r[i])return r[i].exports;var o=r[i]={exports:{},id:i,loaded:!1};return n[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=n,t.c=r,t.p="",t(0)}([function(n,t,r){function i(n){return n instanceof Array?n.map(i):"string"==typeof n||"number"==typeof n?n:o(n)}function o(n){var t={};for(var r in n)t[r]=i(n[r]);return t}function e(n,t){var r=n/t;return t>0?1/Math.sqrt(1+r*r):-1/Math.sqrt(1+r*r)}function a(n,t){var r=n/t;return t>0?r/Math.sqrt(1+r*r):-r/Math.sqrt(1+r*r)}function u(n,t){function r(t,r){r.length&&r.pop();for(var i=n[0>t?~t:t],o=0,e=i.length;e>o;++o)r.push(i[o]);0>t&&c(r,e)}function i(n){for(var t=[],i=0,o=n.length;o>i;++i)r(n[i],t);return t}function o(n){return n.map(i)}function e(n){return n=Object.create(n),n.properties=n.properties,n.coordinates=a[n.type](n.arcs),n.type=n.type,n}var a={LineString:i,MultiLineString:o,Polygon:o,MultiPolygon:function(n){return n.map(o)}};return"GeometryCollection"===t.type?(t=Object.create(t),t.geometries=t.geometries.map(e),t):e(t)}function c(n,t){for(var r,i=n.length,o=i-t;o<--i;)r=n[o],n[o++]=n[i],n[i]=r}function l(n){return n.properties||{}}r(1);var f=function(n){function t(n){return[n[0]*r+o,n[1]*i+e]}var r=n.scale[0],i=n.scale[1],o=n.translate[0],e=n.translate[1];return t.invert=function(n){return[(n[0]-o)/r,(n[1]-e)/i]},t};onmessage=function(n){if("carto"===n.data["do"]){var t=n.data.geo,r=t.topology,o=t.geometries,c=t.path,s=t.anchorSize.x,p=t.anchorSize.y,h=n.data.values,g=n.data.task;r=i(r);for(var s,p,v,d,M,y=d3f.geo.mercator().scale(p).translate([.43*s,1.35*p]),E=f(r.transform),m=r.arcs.length,S=0,x=new Array(m);m>S;){for(s=0,p=0,v=r.arcs[S].length,d=0,M=new Array(v);v>d;)r.arcs[S][d][0]=s+=r.arcs[S][d][0],r.arcs[S][d][1]=p+=r.arcs[S][d][1],M[d]=y(E(r.arcs[S][d])),d++;x[S++]=M}var c=d3f.geo.path().projection(null),b=u(x,{type:"GeometryCollection",geometries:o}).geometries.map(function(n){return{type:"Feature",id:n.id,properties:l.call(null,n,r),geometry:n}});value=function(n){return h[n.properties.iso_a3]};for(var h=b.map(value),q=h.reduce(function(n,t){return n+t}),w=8,P=0;P++<w;){for(var v,d,j,j,A,z,I,R,L,O,k,C,F,G,T,U=b.map(c.area),Z=U.reduce(function(n,t){return n+t}),_=0,B=0,D=b.map(function(n,t){var r=Math.abs(U[t]),i=+h[t],o=Z*i/q,e=Math.sqrt(r/Math.PI),a=Math.sqrt(o/Math.PI)-e,u=Math.max(r,o)/Math.min(r,o);return _+=u,B++,{id:n.id,area:r,centroid:c.centroid(n),value:i,desired:o,range:100*Math.abs(o-r)/Math.sqrt(Math.PI*r),radius:e,mass:a,sizeError:u}}),H=_/B,J=1/(1+H),m=x.length,S=0;m>S;){for(v=x[S].length,d=0;v>d;){for(j=[0,0],A=D.length,z=0;A>z;)I=D[z].centroid,R=D[z].mass,L=D[z].radius,O=L*L,k=x[S][d][0]-I[0],C=x[S][d][1]-I[1],F=k*k+C*C,G=Math.sqrt(F),G<D[z].range&&(T=G>L?R*L/G:R*(F/O)*(4-3*G/L),j[0]+=T*e(C,k),j[1]+=T*a(C,k)),z++;x[S][d][0]+=j[0]*J,x[S][d][1]+=j[1]*J,d++}S++}if(1>=H)break}self.postMessage({done:"processing",features:b,arcs:x,task:g})}}},function(n,t,r){var i,o;!function(){function e(n){return n}function a(n,t,r){return(t[0]-n[0])*(r[1]-n[1])-(t[1]-n[1])*(r[0]-n[0])}function u(n){return n>1?0:-1>n?bt:Math.acos(n)}function c(n){return n>1?wt:-1>n?-wt:Math.asin(n)}function l(n,t,r){return function(){var i=r.apply(t,arguments);return i===t?n:i}}function f(){return!0}function s(){}function p(n){return[Math.atan2(n[1],n[0]),c(n[2])]}function h(n,t){return At(n[0]-t[0])<St&&At(n[1]-t[1])<St}function g(n,t,r,i,o){var e=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r=n[0],i=n[t];if(h(r,i)){o.lineStart();for(var u=0;t>u;++u)o.point((r=n[u])[0],r[1]);return void o.lineEnd()}var c=new d(r,n,null,!0),l=new d(r,null,c,!1);c.o=l,e.push(c),a.push(l),c=new d(i,n,null,!1),l=new d(i,null,c,!0),c.o=l,e.push(c),a.push(l)}}),a.sort(t),v(e),v(a),e.length){for(var u=0,c=r,l=a.length;l>u;++u)a[u].e=c=!c;for(var f,s,p=e[0];;){for(var g=p,M=!0;g.v;)if((g=g.n)===p)return;f=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(M)for(var u=0,l=f.length;l>u;++u)o.point((s=f[u])[0],s[1]);else i(g.x,g.n.x,1,o);g=g.n}else{if(M){f=g.p.z;for(var u=f.length-1;u>=0;--u)o.point((s=f[u])[0],s[1])}else i(g.x,g.p.x,-1,o);g=g.p}g=g.o,f=g.z,M=!M}while(!g.v);o.lineEnd()}}}function v(n){if(t=n.length){for(var t,r,i=0,o=n[0];++i<t;)o.n=r=n[i],r.p=o,o=r;o.n=r=n[0],r.p=o}}function d(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function M(n,t,r,i){return function(o,e){function a(t,r){var i=o(t,r);n(t=i[0],r=i[1])&&e.point(t,r)}function u(n,t){var r=o(n,t);M.point(r[0],r[1])}function c(){x.point=u,M.lineStart()}function l(){x.point=a,M.lineEnd()}function f(n,t){d.push([n,t]);var r=o(n,t);q.point(r[0],r[1])}function s(){q.lineStart(),d=[]}function p(){f(d[0][0],d[0][1]),q.lineEnd();var n,t=q.clean(),r=b.buffer(),i=r.length;if(d.pop(),v.push(d),d=null,i)if(1&t){n=r[0];var o,i=n.length-1,a=-1;if(i>0){for(w||(e.polygonStart(),w=!0),e.lineStart();++a<i;)e.point((o=n[a])[0],o[1]);e.lineEnd()}}else i>1&&2&t&&r.push(r.pop().concat(r.shift())),h.push(r.filter(y))}var h,v,d,M=t(e),S=o.invert(i[0],i[1]),x={point:a,lineStart:c,lineEnd:l,polygonStart:function(){x.point=f,x.lineStart=s,x.lineEnd=p,h=[],v=[]},polygonEnd:function(){x.point=a,x.lineStart=c,x.lineEnd=l,h=mt.merge(h);var n=J(S,v);h.length?(w||(e.polygonStart(),w=!0),g(h,m,n,r,e)):n&&(w||(e.polygonStart(),w=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),w&&(e.polygonEnd(),w=!1),h=v=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}},b=E(),q=t(b),w=!1;return x}}function y(n){return n.length>1}function E(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,r){n.push([t,r])},lineEnd:s,buffer:function(){var r=t;return t=[],n=null,r},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function m(n,t){return((n=n.x)[0]<0?n[1]-wt-St:wt-n[1])-((t=t.x)[0]<0?t[1]-wt-St:wt-t[1])}function S(n){var t,r=0/0,i=0/0,o=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(e,a){var u=e>0?bt:-bt,c=At(e-r);At(c-bt)<St?(n.point(r,i=(i+a)/2>0?wt:-wt),n.point(o,i),n.lineEnd(),n.lineStart(),n.point(u,i),n.point(e,i),t=0):o!==u&&c>=bt&&(At(r-o)<St&&(r-=o*St),At(e-u)<St&&(e-=u*St),i=x(r,i,e,a),n.point(o,i),n.lineEnd(),n.lineStart(),n.point(u,i),t=0),n.point(r=e,i=a),o=u},lineEnd:function(){n.lineEnd(),r=i=0/0},clean:function(){return 2-t}}}function x(n,t,r,i){var o,e,a=Math.sin(n-r);return At(a)>St?Math.atan((Math.sin(t)*(e=Math.cos(i))*Math.sin(r)-Math.sin(i)*(o=Math.cos(t))*Math.sin(n))/(o*e*a)):(t+i)/2}function b(n,t,r,i){var o;if(null==n)o=r*wt,i.point(-bt,o),i.point(0,o),i.point(bt,o),i.point(bt,0),i.point(bt,-o),i.point(0,-o),i.point(-bt,-o),i.point(-bt,0),i.point(-bt,o);else if(At(n[0]-t[0])>St){var e=n[0]<t[0]?bt:-bt;o=r*e/2,i.point(-e,o),i.point(0,o),i.point(e,o)}else i.point(t[0],t[1])}function q(n){var t=n[0],r=n[1],i=Math.cos(r);return[i*Math.cos(t),i*Math.sin(t),Math.sin(r)]}function w(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function P(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function j(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function A(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function z(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function I(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return r=t.invert(r,i),r&&n.invert(r[0],r[1])}),r}function R(n,t){return[n,t]}function L(n,t){return[n>bt?n-qt:-bt>n?n+qt:n,t]}function O(n,t,r){return n?t||r?I(C(n),F(t,r)):C(n):t||r?F(t,r):L}function k(n){return function(t,r){return t+=n,[t>bt?t-qt:-bt>t?t+qt:t,r]}}function C(n){var t=k(n);return t.invert=k(-n),t}function F(n,t){function r(n,t){var r=Math.cos(t),u=Math.cos(n)*r,l=Math.sin(n)*r,f=Math.sin(t),s=f*i+u*o;return[Math.atan2(l*e-s*a,u*i-f*o),c(s*e+l*a)]}var i=Math.cos(n),o=Math.sin(n),e=Math.cos(t),a=Math.sin(t);return r.invert=function(n,t){var r=Math.cos(t),u=Math.cos(n)*r,l=Math.sin(n)*r,f=Math.sin(t),s=f*e-l*a;return[Math.atan2(l*e+f*a,u*i+s*o),c(s*i-u*o)]},r}function G(n,t){var r=Math.cos(n),i=Math.sin(n);return function(o,e,a,u){var c=a*t;null!=o?(o=T(r,o),e=T(r,e),(a>0?e>o:o>e)&&(o+=a*qt)):(o=n+a*qt,e=n-.5*c);for(var l,f=o;a>0?f>e:e>f;f-=c)u.point((l=p([r,-i*Math.cos(f),-i*Math.sin(f)]))[0],l[1])}}function T(n,t){var r=q(t);r[0]-=n,z(r);var i=u(-r[1]);return((-r[2]<0?-i:i)+2*Math.PI-St)%(2*Math.PI)}function U(){}function Z(n,t,r){var i=r.s=n+t,o=i-n,e=i-o;r.t=n-e+(t-o)}function _(n,t){n&&Lt.hasOwnProperty(n.type)&&Lt[n.type](n,t)}function B(n,t,r){var i,o=-1,e=n.length-r;for(t.lineStart();++o<e;)i=n[o],t.point(i[0],i[1],i[2]);t.lineEnd()}function D(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)B(n[r],t,1);t.polygonEnd()}function H(){function n(n,t){n*=Pt,t=t*Pt/2+bt/4;var r=n-i,a=r>=0?1:-1,u=a*r,c=Math.cos(t),l=Math.sin(t),f=e*l,s=o*c+f*Math.cos(u),p=f*a*Math.sin(u);kt.add(Math.atan2(p,s)),i=n,o=c,e=l}var t,r,i,o,e;Ct.point=function(a,u){Ct.point=n,i=(t=a)*Pt,o=Math.cos(u=(r=u)*Pt/2+bt/4),e=Math.sin(u)},Ct.lineEnd=function(){n(t,r)}}function J(n,t){var r=n[0],i=n[1],o=[Math.sin(r),-Math.cos(r),0],e=0,a=0;kt.reset();for(var u=0,l=t.length;l>u;++u){var f=t[u],s=f.length;if(s)for(var p=f[0],h=p[0],g=p[1]/2+bt/4,v=Math.sin(g),d=Math.cos(g),M=1;;){M===s&&(M=0),n=f[M];var y=n[0],E=n[1]/2+bt/4,m=Math.sin(E),S=Math.cos(E),x=y-h,b=x>=0?1:-1,w=b*x,j=w>bt,A=v*m;if(kt.add(Math.atan2(A*b*Math.sin(w),d*S+A*Math.cos(w))),e+=j?x+b*qt:x,j^h>=r^y>=r){var I=P(q(p),q(n));z(I);var R=P(o,I);z(R);var L=(j^x>=0?-1:1)*c(R[2]);(i>L||i===L&&(I[0]||I[1]))&&(a+=j^x>=0?1:-1)}if(!M++)break;h=y,v=m,d=S,p=n}}return(-St>e||St>e&&0>kt)^1&a}function K(n){function t(n,t){return Math.cos(n)*Math.cos(t)>e}function r(n){var r,e,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(s,p){var g,v=[s,p],d=t(s,p),M=a?d?0:o(s,p):d?o(s+(0>s?bt:-bt),p):0;if(!r&&(l=c=d)&&n.lineStart(),d!==c&&(g=i(r,v),(h(r,g)||h(v,g))&&(v[0]+=St,v[1]+=St,d=t(v[0],v[1]))),d!==c)f=0,d?(n.lineStart(),g=i(v,r),n.point(g[0],g[1])):(g=i(r,v),n.point(g[0],g[1]),n.lineEnd()),r=g;else if(u&&r&&a^d){var y;M&e||!(y=i(v,r,!0))||(f=0,a?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!d||r&&h(r,v)||n.point(v[0],v[1]),r=v,c=d,e=M},lineEnd:function(){c&&n.lineEnd(),r=null},clean:function(){return f|(l&&c)<<1}}}function i(n,t,r){var i=q(n),o=q(t),a=[1,0,0],u=P(i,o),c=w(u,u),l=u[0],f=c-l*l;if(!f)return!r&&n;var s=e*c/f,h=-e*l/f,g=P(a,u),v=A(a,s),d=A(u,h);j(v,d);var M=g,y=w(v,M),E=w(M,M),m=y*y-E*(w(v,v)-1);if(!(0>m)){var S=Math.sqrt(m),x=A(M,(-y-S)/E);if(j(x,v),x=p(x),!r)return x;var b,z=n[0],I=t[0],R=n[1],L=t[1];z>I&&(b=z,z=I,I=b);var O=I-z,k=At(O-bt)<St,C=k||St>O;if(!k&&R>L&&(b=R,R=L,L=b),C?k?R+L>0^x[1]<(At(x[0]-z)<St?R:L):R<=x[1]&&x[1]<=L:O>bt^(z<=x[0]&&x[0]<=I)){var F=A(M,(-y+S)/E);return j(F,v),[x,p(F)]}}}function o(t,r){var i=a?n:bt-n,o=0;return-i>t?o|=1:t>i&&(o|=2),-i>r?o|=4:r>i&&(o|=8),o}var e=Math.cos(n),a=e>0,u=At(e)>St,c=G(n,6*Pt);return M(t,r,c,a?[0,-n]:[-bt,n-bt])}function N(n,t,r,i){return function(o){var e,a=o.a,u=o.b,c=a.x,l=a.y,f=u.x,s=u.y,p=0,h=1,g=f-c,v=s-l;if(e=n-c,g||!(e>0)){if(e/=g,0>g){if(p>e)return;h>e&&(h=e)}else if(g>0){if(e>h)return;e>p&&(p=e)}if(e=r-c,g||!(0>e)){if(e/=g,0>g){if(e>h)return;e>p&&(p=e)}else if(g>0){if(p>e)return;h>e&&(h=e)}if(e=t-l,v||!(e>0)){if(e/=v,0>v){if(p>e)return;h>e&&(h=e)}else if(v>0){if(e>h)return;e>p&&(p=e)}if(e=i-l,v||!(0>e)){if(e/=v,0>v){if(e>h)return;e>p&&(p=e)}else if(v>0){if(p>e)return;h>e&&(h=e)}return p>0&&(o.a={x:c+p*g,y:l+p*v}),1>h&&(o.b={x:c+h*g,y:l+h*v}),o}}}}}}function Q(n,t,r,i){function o(i,o){return At(i[0]-n)<St?o>0?0:3:At(i[0]-r)<St?o>0?2:1:At(i[1]-t)<St?o>0?1:0:o>0?3:2}function e(n,t){return u(n.x,t.x)}function u(n,t){var r=o(n,1),i=o(t,1);return r!==i?r-i:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(c){function l(n){for(var t=0,r=y.length,i=n[1],o=0;r>o;++o)for(var e,u=1,c=y[o],l=c.length,f=c[0];l>u;++u)e=c[u],f[1]<=i?e[1]>i&&a(f,e,n)>0&&++t:e[1]<=i&&a(f,e,n)<0&&--t,f=e;return 0!==t}function f(e,a,c,l){var f=0,s=0;if(null==e||(f=o(e,c))!==(s=o(a,c))||u(e,a)<0^c>0){do l.point(0===f||3===f?n:r,f>1?i:t);while((f=(f+c+4)%4)!==s)}else l.point(a[0],a[1])}function s(o,e){return o>=n&&r>=o&&e>=t&&i>=e}function p(n,t){s(n,t)&&c.point(n,t)}function h(){L.point=d,y&&y.push(m=[]),j=!0,P=!1,q=w=0/0}function v(){M&&(d(S,x),b&&P&&I.rejoin(),M.push(I.buffer())),L.point=p,P&&c.lineEnd()}function d(n,t){n=Math.max(-Ft,Math.min(Ft,n)),t=Math.max(-Ft,Math.min(Ft,t));var r=s(n,t);if(y&&m.push([n,t]),j)S=n,x=t,b=r,j=!1,r&&(c.lineStart(),c.point(n,t));else if(r&&P)c.point(n,t);else{var i={a:{x:q,y:w},b:{x:n,y:t}};R(i)?(P||(c.lineStart(),c.point(i.a.x,i.a.y)),c.point(i.b.x,i.b.y),r||c.lineEnd(),A=!1):r&&(c.lineStart(),c.point(n,t),A=!1)}q=n,w=t,P=r}var M,y,m,S,x,b,q,w,P,j,A,z=c,I=E(),R=N(n,t,r,i),L={point:p,lineStart:h,lineEnd:v,polygonStart:function(){c=I,M=[],y=[],A=!0},polygonEnd:function(){c=z,M=mt.merge(M);var t=l([n,i]),r=A&&t,o=M.length;(r||o)&&(c.polygonStart(),r&&(c.lineStart(),f(null,null,1,c),c.lineEnd()),o&&g(M,e,t,f,c),c.polygonEnd()),M=y=m=null}};return L}}function V(n){function t(n){return(u?i:r)(n)}function r(t){return X(t,function(r,i){r=n(r,i),t.point(r[0],r[1])})}function i(t){function r(r,i){r=n(r,i),t.point(r[0],r[1])}function i(){E=0/0,w.point=e,t.lineStart()}function e(r,i){var e=q([r,i]),a=n(r,i);o(E,m,y,S,x,b,E=a[0],m=a[1],y=r,S=e[0],x=e[1],b=e[2],u,t),t.point(E,m)}function a(){w.point=r,t.lineEnd()}function c(){i(),w.point=l,w.lineEnd=f}function l(n,t){e(s=n,p=t),h=E,g=m,v=S,d=x,M=b,w.point=e}function f(){o(E,m,y,S,x,b,h,g,s,v,d,M,u,t),w.lineEnd=a,a()}var s,p,h,g,v,d,M,y,E,m,S,x,b,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){t.polygonStart(),w.lineStart=c},polygonEnd:function(){t.polygonEnd(),w.lineStart=i}};return w}function o(t,r,i,u,c,l,f,s,p,h,g,v,d,M){var y=f-t,E=s-r,m=y*y+E*E;if(m>4*e&&d--){var S=u+h,x=c+g,b=l+v,q=Math.sqrt(S*S+x*x+b*b),w=Math.asin(b/=q),P=At(At(b)-1)<St||At(i-p)<St?(i+p)/2:Math.atan2(x,S),j=n(P,w),A=j[0],z=j[1],I=A-t,R=z-r,L=E*I-y*R;(L*L/m>e||At((y*I+E*R)/m-.5)>.3||a>u*h+c*g+l*v)&&(o(t,r,i,u,c,l,A,z,P,S/=q,x/=q,b,d,M),M.point(A,z),o(A,z,P,S,x,b,f,s,p,h,g,v,d,M))}}var e=.5,a=Math.cos(30*Pt),u=16;return t.precision=function(n){return arguments.length?(u=(e=n*n)>0&&16,t):Math.sqrt(e)},t}function W(n){this.stream=n}function X(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function Y(n){return $(function(){return n})()}function $(n){function t(n){return n=c(n[0]*Pt,n[1]*Pt),[n[0]*h+l,f-n[1]*h]}function r(n){return n=c.invert((n[0]-l)/h,(f-n[1])/h),n&&[n[0]*jt,n[1]*jt]}function i(){c=I(u=O(y,E,m),a);var n=a(d,M);return l=g-n[0]*h,f=v+n[1]*h,o()}function o(){return s&&(s.valid=!1,s=null),t}var a,u,c,l,f,s,p=V(function(n,t){return n=a(n,t),[n[0]*h+l,f-n[1]*h]}),h=150,g=480,v=250,d=0,M=0,y=0,E=0,m=0,S=zt,x=e,b=null,q=null;return t.stream=function(n){return s&&(s.valid=!1),s=nt(S(u,p(x(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(S=null==n?(b=n,zt):K((b=+n)*Pt),o()):b},t.clipExtent=function(n){return arguments.length?(q=n,x=n?Q(n[0][0],n[0][1],n[1][0],n[1][1]):e,o()):q},t.scale=function(n){return arguments.length?(h=+n,i()):h},t.translate=function(n){return arguments.length?(g=+n[0],v=+n[1],i()):[g,v]},t.center=function(n){return arguments.length?(d=n[0]%360*Pt,M=n[1]%360*Pt,i()):[d*jt,M*jt]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Pt,E=n[1]%360*Pt,m=n.length>2?n[2]%360*Pt:0,i()):[y*jt,E*jt,m*jt]},mt.rebind(t,p,"precision"),function(){return a=n.apply(this,arguments),t.invert=a.invert&&r,i()}}function nt(n){return X(n,function(t,r){n.point(t*Pt,r*Pt)})}function tt(n){var t=0,r=bt/3,i=$(n),o=i(t,r);return o.parallels=function(n){return arguments.length?i(t=n[0]*bt/180,r=n[1]*bt/180):[t/bt*180,r/bt*180]},o}function rt(n,t){function r(n,t){var r=Math.sqrt(e-2*o*Math.sin(t))/o;return[r*Math.sin(n*=o),a-r*Math.cos(n)]}var i=Math.sin(n),o=(i+Math.sin(t))/2,e=1+i*(2*o-i),a=Math.sqrt(e)/o;return r.invert=function(n,t){var r=a-t;return[Math.atan2(n,r)/o,c((e-(n*n+r*r)*o*o)/(2*o))]},r}function it(n,t){n*=Pt;var r=Math.cos(t*=Pt);ot(r*Math.cos(n),r*Math.sin(n),Math.sin(t))}function ot(n,t,r){++Gt,Ut+=(n-Ut)/Gt,Zt+=(t-Zt)/Gt,_t+=(r-_t)/Gt}function et(){function n(n,o){n*=Pt;var e=Math.cos(o*=Pt),a=e*Math.cos(n),u=e*Math.sin(n),c=Math.sin(o),l=Math.atan2(Math.sqrt((l=r*c-i*u)*l+(l=i*a-t*c)*l+(l=t*u-r*a)*l),t*a+r*u+i*c);Tt+=l,Bt+=l*(t+(t=a)),Dt+=l*(r+(r=u)),Ht+=l*(i+(i=c)),ot(t,r,i)}var t,r,i;nr.point=function(o,e){o*=Pt;var a=Math.cos(e*=Pt);t=a*Math.cos(o),r=a*Math.sin(o),i=Math.sin(e),nr.point=n,ot(t,r,i)}}function at(){nr.point=it}function ut(){function n(n,t){n*=Pt;var r=Math.cos(t*=Pt),a=r*Math.cos(n),c=r*Math.sin(n),l=Math.sin(t),f=o*l-e*c,s=e*a-i*l,p=i*c-o*a,h=Math.sqrt(f*f+s*s+p*p),g=i*a+o*c+e*l,v=h&&-u(g)/h,d=Math.atan2(h,g);Jt+=v*f,Kt+=v*s,Nt+=v*p,Tt+=d,Bt+=d*(i+(i=a)),Dt+=d*(o+(o=c)),Ht+=d*(e+(e=l)),ot(i,o,e)}var t,r,i,o,e;nr.point=function(a,u){t=a,r=u,nr.point=n,a*=Pt;var c=Math.cos(u*=Pt);i=c*Math.cos(a),o=c*Math.sin(a),e=Math.sin(u),ot(i,o,e)},nr.lineEnd=function(){n(t,r),nr.lineEnd=at,nr.point=it}}function ct(){function n(n,t){Vt+=o*n-i*t,i=n,o=t}var t,r,i,o;tr.point=function(e,a){tr.point=n,t=i=e,r=o=a},tr.lineEnd=function(){n(t,r)}}function lt(n,t){Wt>n&&(Wt=n),n>Yt&&(Yt=n),Xt>t&&(Xt=t),t>$t&&($t=t)}function ft(){function n(n,t){a.push("M",n,",",t,e)}function t(n,t){a.push("M",n,",",t),u.point=r}function r(n,t){a.push("L",n,",",t)}function i(){u.point=n}function o(){a.push("Z")}var e=st(4.5),a=[],u={point:n,lineStart:function(){u.point=t},lineEnd:i,polygonStart:function(){u.lineEnd=o},polygonEnd:function(){u.lineEnd=i,u.point=n},pointRadius:function(n){return e=st(n),u},result:function(){if(a.length){var n=a.join("");return a=[],n}}};return u}function st(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function pt(n,t){Ut+=n,Zt+=t,++_t}function ht(){function n(n,i){var o=n-t,e=i-r,a=Math.sqrt(o*o+e*e);Bt+=a*(t+n)/2,Dt+=a*(r+i)/2,Ht+=a,pt(t=n,r=i)}var t,r;ir.point=function(i,o){ir.point=n,pt(t=i,r=o)}}function gt(){ir.point=pt}function vt(){function n(n,t){var r=n-i,e=t-o,a=Math.sqrt(r*r+e*e);Bt+=a*(i+n)/2,Dt+=a*(o+t)/2,Ht+=a,a=o*n-i*t,Jt+=a*(i+n),Kt+=a*(o+t),Nt+=3*a,pt(i=n,o=t)}var t,r,i,o;ir.point=function(e,a){ir.point=n,pt(t=i=e,r=o=a)},ir.lineEnd=function(){n(t,r)}}function dt(n){function t(t,r){n.moveTo(t+a,r),n.arc(t,r,a,0,qt)}function r(t,r){n.moveTo(t,r),u.point=i}function i(t,r){n.lineTo(t,r)}function o(){u.point=t}function e(){n.closePath()}var a=4.5,u={point:t,lineStart:function(){u.point=r},lineEnd:o,polygonStart:function(){u.lineEnd=e},polygonEnd:function(){u.lineEnd=o,u.point=t},pointRadius:function(n){return a=n,u},result:s};return u}function Mt(n){var t=V(function(t,r){return n([t*jt,r*jt])});return function(n){return nt(t(n))}}function yt(n,t){return[n,Math.log(Math.tan(bt/4+t/2))]}function Et(n){var t,r=Y(n),i=r.scale,o=r.translate,e=r.clipExtent;return r.scale=function(){var n=i.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.translate=function(){var n=o.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.clipExtent=function(n){var a=e.apply(r,arguments);if(a===r){if(t=null==n){var u=bt*i(),c=o();e([[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]])}}else t&&(a=null);return a},r.clipExtent(null)}var mt={version:"3.5.3"},St=1e-6,xt=St*St,bt=Math.PI,qt=2*bt,wt=bt/2,Pt=bt/180,jt=180/bt;mt.geo={},mt.rebind=function(n,t){for(var r,i=1,o=arguments.length;++i<o;)n[r=arguments[i]]=l(n,t,t[r]);return n};var At=Math.abs;mt.merge=function(n){for(var t,r,i,o=n.length,e=-1,a=0;++e<o;)a+=n[e].length;for(r=new Array(a);--o>=0;)for(i=n[o],t=i.length;--t>=0;)r[--a]=i[t];return r};var zt=M(f,S,b,[-bt,-bt/2]);(mt.geo.equirectangular=function(){return Y(R)}).raw=R.invert=R,mt.geo.rotation=function(n){function t(t){return t=n(t[0]*Pt,t[1]*Pt),t[0]*=jt,t[1]*=jt,t}return n=O(n[0]%360*Pt,n[1]*Pt,n.length>2?n[2]*Pt:0),t.invert=function(t){return t=n.invert(t[0]*Pt,t[1]*Pt),t[0]*=jt,t[1]*=jt,t},t},L.invert=R,mt.geo.circle=function(){function n(){var n="function"==typeof i?i.apply(this,arguments):i,t=O(-n[0]*Pt,-n[1]*Pt,0).invert,o=[];return r(null,null,1,{point:function(n,r){o.push(n=t(n,r)),n[0]*=jt,n[1]*=jt}}),{type:"Polygon",coordinates:[o]}}var t,r,i=[0,0],o=6;return n.origin=function(t){return arguments.length?(i=t,n):i},n.angle=function(i){return arguments.length?(r=G((t=+i)*Pt,o*Pt),n):t},n.precision=function(i){return arguments.length?(r=G(t*Pt,(o=+i)*Pt),n):o},n.angle(90)},U.prototype={s:0,t:0,add:function(n){Z(n,this.t,It),Z(It.s,this.s,this),this.s?this.t+=It.t:this.s=It.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var It=new U;mt.geo.stream=function(n,t){n&&Rt.hasOwnProperty(n.type)?Rt[n.type](n,t):_(n,t)};var Rt={Feature:function(n,t){_(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,o=r.length;++i<o;)_(r[i].geometry,t)}},Lt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,o=r.length;++i<o;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){B(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,o=r.length;++i<o;)B(r[i],t,0)},Polygon:function(n,t){D(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,o=r.length;++i<o;)D(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,o=r.length;++i<o;)_(r[i],t)}};mt.geo.area=function(n){return Ot=0,mt.geo.stream(n,Ct),Ot};var Ot,kt=new U,Ct={sphere:function(){Ot+=4*bt},point:s,lineStart:s,lineEnd:s,polygonStart:function(){kt.reset(),Ct.lineStart=H},polygonEnd:function(){var n=2*kt;Ot+=0>n?4*bt+n:n,Ct.lineStart=Ct.lineEnd=Ct.point=s}},Ft=1e9;mt.geo.clipExtent=function(){var n,t,r,i,o,e,a={stream:function(n){return o&&(o.valid=!1),o=e(n),o.valid=!0,o},extent:function(u){return arguments.length?(e=Q(n=+u[0][0],t=+u[0][1],r=+u[1][0],i=+u[1][1]),o&&(o.valid=!1,o=null),a):[[n,t],[r,i]]}};return a.extent([[0,0],[960,500]])};[].slice;mt.geo.transform=function(n){return{stream:function(t){var r=new W(t);for(var i in n)r[i]=n[i];return r}}},W.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},mt.geo.projection=Y,mt.geo.projectionMutator=$,(mt.geo.conicEqualArea=function(){return tt(rt)}).raw=rt,mt.geo.albers=function(){return mt.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},mt.geo.albersUsa=function(){function n(n){var e=n[0],a=n[1];return t=null,r(e,a),t||(i(e,a),t)||o(e,a),t}var t,r,i,o,e=mt.geo.albers(),a=mt.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=mt.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,r){t=[n,r]}};return n.invert=function(n){var t=e.scale(),r=e.translate(),i=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.12&&.234>o&&i>=-.425&&-.214>i?a:o>=.166&&.234>o&&i>=-.214&&-.115>i?u:e).invert(n)},n.stream=function(n){var t=e.stream(n),r=a.stream(n),i=u.stream(n);return{point:function(n,o){t.point(n,o),r.point(n,o),i.point(n,o)},sphere:function(){t.sphere(),r.sphere(),i.sphere()},lineStart:function(){t.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},n.precision=function(t){return arguments.length?(e.precision(t),a.precision(t),u.precision(t),n):e.precision()},n.scale=function(t){return arguments.length?(e.scale(t),a.scale(.35*t),u.scale(t),n.translate(e.translate())):e.scale()},n.translate=function(t){if(!arguments.length)return e.translate();var l=e.scale(),f=+t[0],s=+t[1];return r=e.translate(t).clipExtent([[f-.455*l,s-.238*l],[f+.455*l,s+.238*l]]).stream(c).point,i=a.translate([f-.307*l,s+.201*l]).clipExtent([[f-.425*l+St,s+.12*l+St],[f-.214*l-St,s+.234*l-St]]).stream(c).point,o=u.translate([f-.205*l,s+.212*l]).clipExtent([[f-.214*l+St,s+.166*l+St],[f-.115*l-St,s+.234*l-St]]).stream(c).point,n},n.scale(1070)},mt.geo.bounds=function(){function n(n,t){m.push(S=[f=n,h=n]),s>t&&(s=t),t>g&&(g=t)}function t(t,r){var i=q([t*Pt,r*Pt]);if(y){var o=P(y,i),e=[o[1],-o[0],0],a=P(e,o);z(a),a=p(a);var c=t-v,l=c>0?1:-1,d=a[0]*jt*l,M=At(c)>180;if(M^(d>l*v&&l*t>d)){var E=a[1]*jt;E>g&&(g=E)}else if(d=(d+360)%360-180,M^(d>l*v&&l*t>d)){var E=-a[1]*jt;s>E&&(s=E)}else s>r&&(s=r),r>g&&(g=r);M?v>t?u(f,t)>u(f,h)&&(h=t):u(t,h)>u(f,h)&&(f=t):h>=f?(f>t&&(f=t),t>h&&(h=t)):t>v?u(f,t)>u(f,h)&&(h=t):u(t,h)>u(f,h)&&(f=t)}else n(t,r);y=i,v=t}function r(){x.point=t}function i(){S[0]=f,S[1]=h,x.point=n,y=null}function o(n,r){if(y){var i=n-v;E+=At(i)>180?i+(i>0?360:-360):i}else d=n,M=r;Ct.point(n,r),t(n,r)}function e(){Ct.lineStart()}function a(){o(d,M),Ct.lineEnd(),At(E)>St&&(f=-(h=180)),S[0]=f,S[1]=h,y=null}function u(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,g,v,d,M,y,E,m,S,x={point:n,lineStart:r,lineEnd:i,polygonStart:function(){x.point=o,x.lineStart=e,x.lineEnd=a,E=0,Ct.polygonStart()},polygonEnd:function(){Ct.polygonEnd(),x.point=n,x.lineStart=r,x.lineEnd=i,0>kt?(f=-(h=180),s=-(g=90)):E>St?g=90:-St>E&&(s=-90),S[0]=f,S[1]=h}};return function(n){g=h=-(f=s=1/0),m=[],mt.geo.stream(n,x);var t=m.length;if(t){m.sort(c);for(var r,i=1,o=m[0],e=[o];t>i;++i)r=m[i],l(r[0],o)||l(r[1],o)?(u(o[0],r[1])>u(o[0],o[1])&&(o[1]=r[1]),u(r[0],o[1])>u(o[0],o[1])&&(o[0]=r[0])):e.push(o=r);for(var a,r,p=-1/0,t=e.length-1,i=0,o=e[t];t>=i;o=r,++i)r=e[i],(a=u(o[1],r[0]))>p&&(p=a,f=r[0],h=o[1])}return m=S=null,1/0===f||1/0===s?[[0/0,0/0],[0/0,0/0]]:[[f,s],[h,g]]}}(),mt.geo.centroid=function(n){Gt=Tt=Ut=Zt=_t=Bt=Dt=Ht=Jt=Kt=Nt=0,mt.geo.stream(n,nr);var t=Jt,r=Kt,i=Nt,o=t*t+r*r+i*i;return xt>o&&(t=Bt,r=Dt,i=Ht,St>Tt&&(t=Ut,r=Zt,i=_t),o=t*t+r*r+i*i,xt>o)?[0/0,0/0]:[Math.atan2(r,t)*jt,c(i/Math.sqrt(o))*jt]};var Gt,Tt,Ut,Zt,_t,Bt,Dt,Ht,Jt,Kt,Nt,Qt,Vt,Wt,Xt,Yt,$t,nr={sphere:s,point:it,lineStart:et,lineEnd:at,polygonStart:function(){nr.lineStart=ut},polygonEnd:function(){nr.lineStart=et}},tr={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Vt=0,tr.lineStart=ct},polygonEnd:function(){tr.lineStart=tr.lineEnd=tr.point=s,Qt+=At(Vt/2)}},rr={point:lt,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s},ir={point:pt,lineStart:ht,lineEnd:gt,polygonStart:function(){ir.lineStart=vt},polygonEnd:function(){ir.point=pt,ir.lineStart=ht,ir.lineEnd=gt}};mt.geo.path=function(){function n(n){return n&&("function"==typeof c&&a.pointRadius(+c.apply(this,arguments)),u&&u.valid||(u=o(a)),mt.geo.stream(n,u)),a.result()}function t(){return u=null,n}var r,i,o,a,u,c=4.5;return n.area=function(n){return Qt=0,mt.geo.stream(n,o(tr)),Qt},n.centroid=function(n){return Ut=Zt=_t=Bt=Dt=Ht=Jt=Kt=Nt=0,mt.geo.stream(n,o(ir)),Nt?[Jt/Nt,Kt/Nt]:Ht?[Bt/Ht,Dt/Ht]:_t?[Ut/_t,Zt/_t]:[0/0,0/0]},n.bounds=function(n){return Yt=$t=-(Wt=Xt=1/0),mt.geo.stream(n,o(rr)),[[Wt,Xt],[Yt,$t]]},n.projection=function(n){return arguments.length?(o=(r=n)?n.stream||Mt(n):e,t()):r},n.context=function(n){return arguments.length?(a=null==(i=n)?new ft:new dt(n),"function"!=typeof c&&a.pointRadius(c),t()):i},n.pointRadius=function(t){return arguments.length?(c="function"==typeof t?t:(a.pointRadius(+t),+t),n):c},n.projection(mt.geo.albersUsa()).context(null)},yt.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-wt]},(mt.geo.mercator=function(){return Et(yt)}).raw=yt,i=mt,o="function"==typeof i?i.call(t,r,t,n):i,!(void 0!==o&&(n.exports=o)),this.d3f=mt}()}]);